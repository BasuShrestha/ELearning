@model Elearning.Models.Progress

@{
    ViewData["Title"] = "EnrolmentDetails";

    Progress progress = ViewBag.SQLData;

}

<h1>Student Progress Details</h1>

@* @if (ViewBag.fromPage == "Enrolments")
{
    <a class="btn btn-primary" asp-action="EnrolmentView" asp-controller="Enrolment">Back to Enrolment List</a>
    <br />
}
else
{
    <a class="btn btn-primary" asp-action="StudentView" asp-controller="Student">Back to Student List</a>
    <br />
} *@

<a class="btn btn-primary" asp-action="ProgressView" asp-controller="Progress">Back to Progress List</a>
<br />

<div>
    <dl class="row">
        <dt class = "col-sm-2">
            Student Id
        </dt>
        <dd class = "col-sm-10">
            @progress.StudentId
        </dd>
        <dt class = "col-sm-2">
            Student Name
        </dt>
        <dd class = "col-sm-10">
            @progress.StudentName
        </dd>
        <dt class = "col-sm-2">
            Course
        </dt>
        <dd class = "col-sm-10">
            @progress.CourseTitle
        </dd>
        <dt class = "col-sm-2">
            Lesson
        </dt>
        <dd class = "col-sm-10">
            @progress.LessonTitle
        </dd>
        <dt class = "col-sm-2">
            Current Progress
        </dt>
        <dd class = "col-sm-10">
            @progress.LessonStatus
        </dd>
        <dt class = "col-sm-2">
            Last Accessed Date
        </dt>
        <dd class = "col-sm-10">
            @progress.LastAccessedDate
        </dd>
    </dl>
</div>

<h4>Update the lesson status</h4>
<br />
<form asp-action="UpdateProgressDetail" asp-asp-controller="Progress" method="post">

    <div class="form-group col-md-6">
        <label asp-for="LessonStatus" class="control-label">Lesson Status</label>
        <select asp-for="LessonStatus" asp-items="@ViewBag.StatusTypes" class="form-control">
            <option value="">Select a status</option>
        </select>
    </div>
    <br />
    <div class="form-group col-md-6">
        <label asp-for="LastAccessedDate" class="control-label">Accessed Date</label>
        <input asp-for="LastAccessedDate" type="date" nameclass="form-control" value="@progress.LastAccessedDate.ToString("yyyyy-MM-dd")"/>
        <span asp-validation-for="LastAccessedDate" class="text-danger"></span>
    </div>
    <br />
    <div class="form-group">
        <input type="submit" value="Update" class="btn btn-primary" />
        <input type="hidden" name="LessonId" value="@progress.LessonId" />
        <input type="hidden" name="StudentId" value="@progress.StudentId" />

        <a class="btn btn-danger" asp-controller="Progress" asp-action="ProgressView">Cancel</a>
    </div>
</form>
