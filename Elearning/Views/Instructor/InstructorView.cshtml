@model Elearning.Models.Instructor;
@{
    Instructor instrucotrSQLData = ViewBag.SQLData;
    ViewData["Title"] = "InstructorView";
}
<h1>@ViewData["Title"]</h1>

<script>
    // Hide alert after 3 seconds
    setTimeout(function () {
        document.getElementById("alert").style.display = "none";
    }, 3000);
</script>

@*   <div class="row">
      <div class="col-md">
          <h3>Instructor Details</h3>
      </div>
      <div class="col-md-3">
          <a class="btn btn-primary" href="AddInstructor">Add Instructor</a>

      </div>
  </div> *@
<br />

<div class="container mt-4">
    <h2>Fill the Instructor Details Below</h2>
    <form asp-controller="Instructor" asp-action="AddInstructorDetail" method="post">

        <div class="form-group mb-3">
            <label asp-for="Name" class="form-label">Name:</label>
            <input asp-for="Name" class="form-control" required>
        </div>

        <div class="form-group mb-3">
            <label asp-for="Course_Id" class="form-label">Course_Id:</label>
            <input asp-for="Course_Id" class="form-control" required>
        </div>


        <div class="mb-3">
            <button type="submit" class="btn btn-primary">Save Instructor Details</button>
        </div>
    </form>
</div>

@*

 @if (instrucotrSQLData.Instructors != null && instrucotrSQLData.Instructors.Count > 0)
 {
     <div class="container mt-5">
         <h2 class="mb-4">Available Instructors</h2>
         <div class="row">
             @foreach (Instructor course in instrucotrSQLData.Instructors)
             {
                 <div class="col-md-4 d-flex align-items-sm-stretch">
                     <div class="card" style="width: 18rem;">
                         <div class="card-body d-flex flex-column">
                             <h5 class="card-title">@course.Name</h5>
                             <p class="card-text">@course.Description</p>
                             <a href="#" class="btn btn-primary mt-auto">Go to course</a>
                         </div>
                     </div>
                 </div>
             }
         </div>
     </div>
 }
 else
 {
     if (instrucotrSQLData.Instructors == null)
     {
         <h4>Instructor is null</h4>
     }
     else if(instrucotrSQLData.Instructors.Count <= 0 )
     {
         <h4>Instructor count is 0</h4>
     }
     <h3>No data to display...</h3>
 } *@


<section class="intro">
    <div class="gradient-custom h-100">
        <div class="mask d-flex align-items-center h-100">
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-12">
                        <div id="datatable">
                            <table id="datatable" class="table">
                                <thead>
                                    <tr>
                                        <th>S.N.</th>
                                        <th>Instructor Name</th>
                                        <th>Course Title</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    @if (instrucotrSQLData.Instructors.Count > 0 && instrucotrSQLData.Instructors != null)
                                    {
                                        Console.WriteLine(instrucotrSQLData.Instructors.Count);
                                        for (var i = 0; i < @instrucotrSQLData.Instructors.Count; i++)
                                        {
                                            if (@instrucotrSQLData.Instructors[i].Is_Deleted == 0)
                                            {
                                                <tr>
                                                    <th scope="row">@instrucotrSQLData.Instructors[i].Instructor_Id</th>
                                                    <td colspan="1">@instrucotrSQLData.Instructors[i].Name</td>
                                                    <td colspan="1">@instrucotrSQLData.Instructors[i].Course_Name</td>

                                                    <td>
                                                        <div class="btn-group">

                                                            <a class="btn btn-primary" asp-action="UpdateInstructor" asp-route-id="@instrucotrSQLData.Instructors[i].Instructor_Id">edit</a>
                                                            @* <form asp-action="UpdateInstructor" asp-route-id="@instrucotrSQLData.Instructors[i].Id" method="post">
                                                <button type="submit" class="btn btn-info">Edit</button>
                                                </form> *@

                                                            <div class="mx-2"></div>

                                                            <form asp-action="DeleteInstructor" asp-route-id="@instrucotrSQLData.Instructors[i].Instructor_Id" method="post" onsubmit="return confirm('Are you sure you want to delete this course?');">
                                                                <button type="submit" class="btn btn-danger">Delete</button>
                                                            </form>
                                                        </div>
                                                    </td>

                                                </tr>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <h3>No Instructors Found...</h3>
                                    }
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
